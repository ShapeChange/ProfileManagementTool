var chai = require('chai');
var chaiXml = require('chai-xml');
var through2 = require('through2');
var intoStream = require('into-stream');
var fromXml = require('../import');
var toXml = require('../export');

chai.use(chaiXml);
var should = chai.should();
var expect = chai.expect;

var modelName = 'PMT_UnitTest_Model';
var modelxml = '<?xml version="1.0" encoding="Windows-1252"?><sc:Model encoding="UTF-8" xmlns:sc="http://shapechange.net/model"><sc:packages><sc:Package><sc:name>Model</sc:name><sc:id>1</sc:id><sc:descriptors></sc:descriptors><sc:packages><sc:Package><sc:name>Test Model</sc:name><sc:id>2</sc:id><sc:descriptors></sc:descriptors><sc:packages><sc:Package><sc:name>Test Schema</sc:name><sc:id>10</sc:id><sc:stereotypes><sc:Stereotype>application schema</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>gmlProfileSchema</sc:name></sc:TaggedValue><sc:TaggedValue><sc:name>targetNamespace</sc:name><sc:values><sc:Value>http://example.org/shapechange/export/scxml</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>version</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlns</sc:name><sc:values><sc:Value>sc</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xsdDocument</sc:name><sc:values><sc:Value>export_scxml.xsd</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:isAppSchema>true</sc:isAppSchema><sc:isSchema>true</sc:isSchema><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:xsdDocument>export_scxml.xsd</sc:xsdDocument><sc:packages><sc:Package><sc:name>Foundation</sc:name><sc:id>22</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>CharacterStringMeta</sc:name><sc:id>92</sc:id><sc:stereotypes><sc:Stereotype>datatype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>94</sc:baseClassId><sc:supertypes><sc:SupertypeId>94</sc:SupertypeId></sc:supertypes><sc:properties><sc:Property><sc:name>valueOrReason</sc:name><sc:id>92_116</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>95</sc:typeId><sc:typeName>CharacterStringReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>Metadata</sc:name><sc:id>93</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>TypeMeta</sc:name><sc:id>94</sc:id><sc:stereotypes><sc:Stereotype>datatype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:subtypes><sc:SubtypeId>119</sc:SubtypeId><sc:SubtypeId>92</sc:SubtypeId><sc:SubtypeId>97</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>metadata</sc:name><sc:id>T57</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>93</sc:typeId><sc:typeName>Metadata</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S57</sc:reversePropertyId><sc:associationId>57</sc:associationId></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>CharacterStringReason</sc:name><sc:id>95</sc:id><sc:stereotypes><sc:Stereotype>union</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:hasNilReason>true</sc:hasNilReason><sc:properties><sc:Property><sc:name>reason</sc:name><sc:id>95_117</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>96</sc:typeId><sc:typeName>valueNilReason</sc:typeName><sc:isComposition>true</sc:isComposition><sc:implementedByNilReason>true</sc:implementedByNilReason></sc:Property><sc:Property><sc:name>value</sc:name><sc:id>95_118</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>87</sc:typeId><sc:typeName>CharacterString</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>valueNilReason</sc:name><sc:id>96</sc:id><sc:stereotypes><sc:Stereotype>enumeration</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:properties><sc:Property><sc:name>reason1</sc:name><sc:id>96_114</sc:id><sc:descriptors></sc:descriptors><sc:sequenceNumber>-1073741817</sc:sequenceNumber><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>reason2</sc:name><sc:id>96_115</sc:id><sc:descriptors></sc:descriptors><sc:sequenceNumber>-1073741816</sc:sequenceNumber><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>IntegerMeta</sc:name><sc:id>97</sc:id><sc:stereotypes><sc:Stereotype>datatype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>94</sc:baseClassId><sc:supertypes><sc:SupertypeId>94</sc:SupertypeId></sc:supertypes><sc:properties><sc:Property><sc:name>valueOrReason</sc:name><sc:id>97_121</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>98</sc:typeId><sc:typeName>IntegerReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>IntegerReason</sc:name><sc:id>98</sc:id><sc:stereotypes><sc:Stereotype>union</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:hasNilReason>true</sc:hasNilReason><sc:properties><sc:Property><sc:name>reason</sc:name><sc:id>98_119</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>96</sc:typeId><sc:typeName>valueNilReason</sc:typeName><sc:isComposition>true</sc:isComposition><sc:implementedByNilReason>true</sc:implementedByNilReason></sc:Property><sc:Property><sc:name>value</sc:name><sc:id>98_120</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>88</sc:typeId><sc:typeName>Integer</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Test Inheritance</sc:name><sc:id>23</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TInheritance_FeatureTypeA</sc:name><sc:id>110</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:subtypes><sc:SubtypeId>112</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>attA1</sc:name><sc:id>110_122</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA2</sc:name><sc:id>110_123</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>90</sc:typeId><sc:typeName>Boolean</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeB</sc:name><sc:id>111</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>true</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:subtypes><sc:SubtypeId>112</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>attB1</sc:name><sc:id>111_124</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeC</sc:name><sc:id>112</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>110</sc:baseClassId><sc:supertypes><sc:SupertypeId>110</sc:SupertypeId><sc:SupertypeId>111</sc:SupertypeId></sc:supertypes><sc:subtypes><sc:SubtypeId>113</sc:SubtypeId><sc:SubtypeId>114</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>roleC1</sc:name><sc:id>T69</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>121</sc:typeId><sc:typeName>TInheritance_FeatureTypeF</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S69</sc:reversePropertyId><sc:associationId>69</sc:associationId></sc:Property><sc:Property><sc:name>attC2</sc:name><sc:id>112_137</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeD</sc:name><sc:id>113</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:isAbstract>true</sc:isAbstract><sc:baseClassId>112</sc:baseClassId><sc:supertypes><sc:SupertypeId>112</sc:SupertypeId></sc:supertypes><sc:subtypes><sc:SubtypeId>123</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>attD1</sc:name><sc:id>113_138</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeE</sc:name><sc:id>114</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>112</sc:baseClassId><sc:supertypes><sc:SupertypeId>112</sc:SupertypeId></sc:supertypes><sc:properties><sc:Property><sc:name>attE1</sc:name><sc:id>114_139</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeF</sc:name><sc:id>121</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>roleF1</sc:name><sc:id>S69</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>112</sc:typeId><sc:typeName>TInheritance_FeatureTypeC</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>T69</sc:reversePropertyId><sc:associationId>69</sc:associationId></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TInheritance_FeatureTypeG</sc:name><sc:id>123</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>113</sc:baseClassId><sc:supertypes><sc:SupertypeId>113</sc:SupertypeId></sc:supertypes></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Profile Parameter Tests</sc:name><sc:id>25</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>bundle</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:packages><sc:Package><sc:name>Test Geometry</sc:name><sc:id>24</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TGeometry_FeatureTypeA</sc:name><sc:id>142</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Test Multiplicity</sc:name><sc:id>26</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TMultiplicity_FeatureTypeA</sc:name><sc:id>135</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attA1</sc:name><sc:id>135_145</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA2</sc:name><sc:id>135_146</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:cardinality>0..1</sc:cardinality><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA3</sc:name><sc:id>135_147</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>3</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:cardinality>1..*</sc:cardinality><sc:sequenceNumber>3</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA4</sc:name><sc:id>135_148</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>4</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:cardinality>0..10</sc:cardinality><sc:sequenceNumber>4</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMultiplicity_FeatureTypeB</sc:name><sc:id>136</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attB1</sc:name><sc:id>136_149</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:cardinality>1..*</sc:cardinality><sc:sequenceNumber>-1073741824</sc:sequenceNumber><sc:typeId>92</sc:typeId><sc:typeName>CharacterStringMeta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attB2</sc:name><sc:id>136_150</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:cardinality>0..1</sc:cardinality><sc:sequenceNumber>-1073741823</sc:sequenceNumber><sc:typeId>95</sc:typeId><sc:typeName>CharacterStringReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMultiplicity_FeatureTypeC</sc:name><sc:id>138</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attC1</sc:name><sc:id>138_154</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:cardinality>0..1</sc:cardinality><sc:sequenceNumber>-1073741822</sc:sequenceNumber><sc:typeId>139</sc:typeId><sc:typeName>TMultiplicity_Meta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attC2</sc:name><sc:id>138_155</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:cardinality>0..1</sc:cardinality><sc:sequenceNumber>-1073741821</sc:sequenceNumber><sc:typeId>140</sc:typeId><sc:typeName>TMultiplicity_Reason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMultiplicity_Meta</sc:name><sc:id>139</sc:id><sc:stereotypes><sc:Stereotype>datatype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>valuesOrReason</sc:name><sc:id>139_153</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>-1073741820</sc:sequenceNumber><sc:typeId>139</sc:typeId><sc:typeName>TMultiplicity_Meta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMultiplicity_Reason</sc:name><sc:id>140</sc:id><sc:stereotypes><sc:Stereotype>union</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:hasNilReason>true</sc:hasNilReason><sc:properties><sc:Property><sc:name>reason</sc:name><sc:id>140_151</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>-1073741819</sc:sequenceNumber><sc:typeId>96</sc:typeId><sc:typeName>valueNilReason</sc:typeName><sc:isComposition>true</sc:isComposition><sc:implementedByNilReason>true</sc:implementedByNilReason></sc:Property><sc:Property><sc:name>values</sc:name><sc:id>140_152</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name></sc:TaggedValue></sc:taggedValues><sc:cardinality>1..*</sc:cardinality><sc:sequenceNumber>-1073741818</sc:sequenceNumber><sc:typeId>90</sc:typeId><sc:typeName>Boolean</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Test isNavigable</sc:name><sc:id>27</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TisNavigable_FeatureTypeA</sc:name><sc:id>129</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>roleA1</sc:name><sc:id>T73</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A(isNavigable[false])</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"><sc:parameter><sc:ProfileParameter name="isNavigable" value="false"></sc:ProfileParameter></sc:parameter></sc:Profile></sc:profiles><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>130</sc:typeId><sc:typeName>TisNavigable_FeatureTypeB</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S73</sc:reversePropertyId><sc:associationId>73</sc:associationId></sc:Property><sc:Property><sc:name>attA2</sc:name><sc:id>129_142</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A(isNavigable[false])</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"><sc:parameter><sc:ProfileParameter name="isNavigable" value="false"></sc:ProfileParameter></sc:parameter></sc:Profile></sc:profiles><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TisNavigable_FeatureTypeB</sc:name><sc:id>130</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>roleB1</sc:name><sc:id>S73</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A(isNavigable[false])</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"><sc:parameter><sc:ProfileParameter name="isNavigable" value="false"></sc:ProfileParameter></sc:parameter></sc:Profile></sc:profiles><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>129</sc:typeId><sc:typeName>TisNavigable_FeatureTypeA</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>T73</sc:reversePropertyId><sc:associationId>73</sc:associationId></sc:Property><sc:Property><sc:name>roleB2</sc:name><sc:id>T74</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A(isNavigable[false])</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"><sc:parameter><sc:ProfileParameter name="isNavigable" value="false"></sc:ProfileParameter></sc:parameter></sc:Profile></sc:profiles><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>129</sc:typeId><sc:typeName>TisNavigable_FeatureTypeA</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S74</sc:reversePropertyId><sc:associationId>74</sc:associationId></sc:Property></sc:properties></sc:Class></sc:classes></sc:Package></sc:packages></sc:Package><sc:Package><sc:name>Test Associationclass</sc:name><sc:id>28</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TAssociationClass_FeatureTypeA</sc:name><sc:id>124</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTA</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeA definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeA description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>roleA1</sc:name><sc:id>T71</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTA_ra1</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>roleA1 TAssociationClass_FeatureTypeA definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>roleA1 TAssociationClass_FeatureTypeA description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>125</sc:typeId><sc:typeName>TAssociationClass_FeatureTypeB</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S71</sc:reversePropertyId><sc:associationId>71</sc:associationId></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TAssociationClass_FeatureTypeB</sc:name><sc:id>125</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTB</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeB definition</sc:DescriptorValue></sc:descriptorValues></sc:definition></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>roleB1</sc:name><sc:id>S71</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTB_rb1</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>roleB1 TAssociationClass_FeatureTypeB definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>roleB1 TAssociationClass_FeatureTypeB description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>124</sc:typeId><sc:typeName>TAssociationClass_FeatureTypeA</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>T71</sc:reversePropertyId><sc:associationId>71</sc:associationId></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TAssociationClass_FeatureTypeC</sc:name><sc:id>126</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTC</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeC definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeC description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:isAbstract>true</sc:isAbstract><sc:subtypes><sc:SubtypeId>127</sc:SubtypeId></sc:subtypes><sc:properties><sc:Property><sc:name>attC1</sc:name><sc:id>126_140</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTC_ac1</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>attC1 TAssociationClass_FeatureTypeC definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>attC1 TAssociationClass_FeatureTypeC description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TAssociationClass_FeatureTypeD</sc:name><sc:id>127</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTD</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeD definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_FeatureTypeD description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:associationId>71</sc:associationId><sc:baseClassId>126</sc:baseClassId><sc:supertypes><sc:SupertypeId>126</sc:SupertypeId></sc:supertypes><sc:properties><sc:Property><sc:name>attD1</sc:name><sc:id>127_141</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>TAC_FTD_ad1</sc:DescriptorValue></sc:descriptorValues></sc:alias><sc:definition><sc:descriptorValues><sc:DescriptorValue>attD1 TAssociationClass_FeatureTypeD definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>attD1 TAssociationClass_FeatureTypeD description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Test MetaReason Handling</sc:name><sc:id>29</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TMetaReason_FeatureTypeA</sc:name><sc:id>116</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attA1</sc:name><sc:id>116_125</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>97</sc:typeId><sc:typeName>IntegerMeta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA2</sc:name><sc:id>116_126</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>98</sc:typeId><sc:typeName>IntegerReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA3</sc:name><sc:id>116_127</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>3</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>3</sc:sequenceNumber><sc:typeId>88</sc:typeId><sc:typeName>Integer</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMetaReason_FeatureTypeB</sc:name><sc:id>117</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attB1</sc:name><sc:id>117_128</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>92</sc:typeId><sc:typeName>CharacterStringMeta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attB2</sc:name><sc:id>117_129</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>95</sc:typeId><sc:typeName>CharacterStringReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attB3</sc:name><sc:id>117_130</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>3</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>3</sc:sequenceNumber><sc:typeId>88</sc:typeId><sc:typeName>Integer</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TMetaReason_FeatureTypeC</sc:name><sc:id>118</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:properties><sc:Property><sc:name>attC1</sc:name><sc:id>118_134</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>119</sc:typeId><sc:typeName>BooleanMeta</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attC2</sc:name><sc:id>118_135</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>120</sc:typeId><sc:typeName>BooleanReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attC3</sc:name><sc:id>118_136</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>3</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>3</sc:sequenceNumber><sc:typeId>90</sc:typeId><sc:typeName>Boolean</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>BooleanMeta</sc:name><sc:id>119</sc:id><sc:stereotypes><sc:Stereotype>datatype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:baseClassId>94</sc:baseClassId><sc:supertypes><sc:SupertypeId>94</sc:SupertypeId></sc:supertypes><sc:properties><sc:Property><sc:name>valueOrReason</sc:name><sc:id>119_131</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>120</sc:typeId><sc:typeName>BooleanReason</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>BooleanReason</sc:name><sc:id>120</sc:id><sc:stereotypes><sc:Stereotype>union</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:hasNilReason>true</sc:hasNilReason><sc:properties><sc:Property><sc:name>reason</sc:name><sc:id>120_132</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>96</sc:typeId><sc:typeName>valueNilReason</sc:typeName><sc:isComposition>true</sc:isComposition><sc:implementedByNilReason>true</sc:implementedByNilReason></sc:Property><sc:Property><sc:name>value</sc:name><sc:id>120_133</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>90</sc:typeId><sc:typeName>Boolean</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property></sc:properties></sc:Class></sc:classes></sc:Package><sc:Package><sc:name>Test Restrict Profile Export</sc:name><sc:id>30</sc:id><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>leaf</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>xsdDocument</sc:name></sc:TaggedValue></sc:taggedValues><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml</sc:targetNamespace><sc:xmlns>sc</sc:xmlns><sc:classes><sc:Class><sc:name>TRestrictProfileExport_FeatureTypeA</sc:name><sc:id>132</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A,B,C,D</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"></sc:Profile><sc:Profile name="B"></sc:Profile><sc:Profile name="C"></sc:Profile><sc:Profile name="D"></sc:Profile></sc:profiles><sc:properties><sc:Property><sc:name>attA1</sc:name><sc:id>132_143</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A,B,C,D</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"></sc:Profile><sc:Profile name="B"></sc:Profile><sc:Profile name="C"></sc:Profile><sc:Profile name="D"></sc:Profile></sc:profiles><sc:sequenceNumber>1</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>attA2</sc:name><sc:id>132_144</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A,B,C,D</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>2</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"></sc:Profile><sc:Profile name="B"></sc:Profile><sc:Profile name="C"></sc:Profile><sc:Profile name="D"></sc:Profile></sc:profiles><sc:sequenceNumber>2</sc:sequenceNumber><sc:typeId>105</sc:typeId><sc:typeName>Real</sc:typeName><sc:isComposition>true</sc:isComposition></sc:Property><sc:Property><sc:name>roleA3</sc:name><sc:id>T75</sc:id><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>inlineOrByReference</sc:name><sc:values><sc:Value>inlineOrByReference</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isMetadata</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A,B,C,D</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>sequenceNumber</sc:name><sc:values><sc:Value>3</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"></sc:Profile><sc:Profile name="B"></sc:Profile><sc:Profile name="C"></sc:Profile><sc:Profile name="D"></sc:Profile></sc:profiles><sc:sequenceNumber>3</sc:sequenceNumber><sc:typeId>133</sc:typeId><sc:typeName>TRestrictProfileExport_FeatureTypeB</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:reversePropertyId>S75</sc:reversePropertyId><sc:associationId>75</sc:associationId></sc:Property></sc:properties></sc:Class><sc:Class><sc:name>TRestrictProfileExport_FeatureTypeB</sc:name><sc:id>133</sc:id><sc:stereotypes><sc:Stereotype>featuretype</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>profiles</sc:name><sc:values><sc:Value>A,B,C,D</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:profiles><sc:Profile name="A"></sc:Profile><sc:Profile name="B"></sc:Profile><sc:Profile name="C"></sc:Profile><sc:Profile name="D"></sc:Profile></sc:profiles></sc:Class></sc:classes></sc:Package></sc:packages></sc:Package><sc:Package editable="false"><sc:name>ISO Stub</sc:name><sc:id>21</sc:id><sc:stereotypes><sc:Stereotype>application schema</sc:Stereotype></sc:stereotypes><sc:descriptors><sc:alias><sc:descriptorValues><sc:DescriptorValue>applicationSchema</sc:DescriptorValue></sc:descriptorValues></sc:alias></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>gmlProfileSchema</sc:name></sc:TaggedValue><sc:TaggedValue><sc:name>targetNamespace</sc:name><sc:values><sc:Value>http://example.org/shapechange/export/scxml/iso</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>version</sc:name><sc:values><sc:Value>1</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlns</sc:name><sc:values><sc:Value>iso</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xsdDocument</sc:name><sc:values><sc:Value>iso_stub.xsd</sc:Value></sc:values></sc:TaggedValue></sc:taggedValues><sc:isAppSchema>true</sc:isAppSchema><sc:isSchema>true</sc:isSchema><sc:version>1</sc:version><sc:targetNamespace>http://example.org/shapechange/export/scxml/iso</sc:targetNamespace><sc:xmlns>iso</sc:xmlns><sc:xsdDocument>iso_stub.xsd</sc:xsdDocument><sc:classes><sc:Class><sc:name>Real</sc:name><sc:id>105</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>GM_Point</sc:name><sc:id>106</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>GM_Curve</sc:name><sc:id>107</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>GM_Surface</sc:name><sc:id>108</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>GM_Solid</sc:name><sc:id>109</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>CharacterString</sc:name><sc:id>87</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>Integer</sc:name><sc:id>88</sc:id><sc:stereotypes><sc:Stereotype>type</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors><sc:taggedValues><sc:TaggedValue><sc:name>byValuePropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>gmlMixin</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>isCollection</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>noPropertyType</sc:name><sc:values><sc:Value>false</sc:Value></sc:values></sc:TaggedValue><sc:TaggedValue><sc:name>xmlSchemaType</sc:name></sc:TaggedValue></sc:taggedValues></sc:Class><sc:Class><sc:name>Boolean</sc:name><sc:id>90</sc:id><sc:stereotypes><sc:Stereotype>enumeration</sc:Stereotype></sc:stereotypes><sc:descriptors></sc:descriptors></sc:Class></sc:classes></sc:Package></sc:packages></sc:Package></sc:packages></sc:Package></sc:packages><sc:associations><sc:Association><sc:name>TypeMeta_Metadata</sc:name><sc:id>57</sc:id><sc:descriptors></sc:descriptors><sc:end1><sc:Property><sc:name>role_S57</sc:name><sc:id>S57</sc:id><sc:descriptors></sc:descriptors><sc:isNavigable>false</sc:isNavigable><sc:sequenceNumber>-536870910</sc:sequenceNumber><sc:typeId>94</sc:typeId><sc:typeName>TypeMeta</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:inClassId>93</sc:inClassId><sc:reversePropertyId>T57</sc:reversePropertyId><sc:associationId>57</sc:associationId></sc:Property></sc:end1><sc:end2 ref="T57"></sc:end2></sc:Association><sc:Association><sc:name>TInheritance_FeatureTypeC_TInheritance_FeatureTypeF</sc:name><sc:id>69</sc:id><sc:descriptors></sc:descriptors><sc:end1 ref="S69"></sc:end1><sc:end2 ref="T69"></sc:end2></sc:Association><sc:Association><sc:name>TAssociationClass_Association</sc:name><sc:id>71</sc:id><sc:descriptors><sc:definition><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_Association definition</sc:DescriptorValue></sc:descriptorValues></sc:definition><sc:description><sc:descriptorValues><sc:DescriptorValue>TAssociationClass_Association description</sc:DescriptorValue></sc:descriptorValues></sc:description></sc:descriptors><sc:assocClassId>127</sc:assocClassId><sc:end1 ref="S71"></sc:end1><sc:end2 ref="T71"></sc:end2></sc:Association><sc:Association><sc:name>TisNavigable_FeatureTypeA_TisNavigable_FeatureTypeB</sc:name><sc:id>73</sc:id><sc:descriptors></sc:descriptors><sc:end1 ref="S73"></sc:end1><sc:end2 ref="T73"></sc:end2></sc:Association><sc:Association><sc:name>TisNavigable_FeatureTypeB_TisNavigable_FeatureTypeA</sc:name><sc:id>74</sc:id><sc:descriptors></sc:descriptors><sc:end1><sc:Property><sc:name>role_S74</sc:name><sc:id>S74</sc:id><sc:descriptors></sc:descriptors><sc:isNavigable>false</sc:isNavigable><sc:sequenceNumber>-536870912</sc:sequenceNumber><sc:typeId>130</sc:typeId><sc:typeName>TisNavigable_FeatureTypeB</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:inClassId>129</sc:inClassId><sc:reversePropertyId>T74</sc:reversePropertyId><sc:associationId>74</sc:associationId></sc:Property></sc:end1><sc:end2 ref="T74"></sc:end2></sc:Association><sc:Association><sc:name>TRestrictProfileExport_FeatureTypeA_TRestrictProfileExport_FeatureTypeB</sc:name><sc:id>75</sc:id><sc:descriptors></sc:descriptors><sc:end1><sc:Property><sc:name>role_S75</sc:name><sc:id>S75</sc:id><sc:descriptors></sc:descriptors><sc:isNavigable>false</sc:isNavigable><sc:sequenceNumber>-536870911</sc:sequenceNumber><sc:typeId>132</sc:typeId><sc:typeName>TRestrictProfileExport_FeatureTypeA</sc:typeName><sc:isAttribute>false</sc:isAttribute><sc:inClassId>133</sc:inClassId><sc:reversePropertyId>T75</sc:reversePropertyId><sc:associationId>75</sc:associationId></sc:Property></sc:end1><sc:end2 ref="T75"></sc:end2></sc:Association></sc:associations></sc:Model>';

describe('Model', function() {

var mem = [];

describe('Import', function() {

    it('should not throw', function(done) {

        var toJson = fromXml.createStream(modelName);

        var toMem = through2.obj(function(obj, enc, cb) {
            mem.push(obj);
            cb();
        }, function(cb) {
            cb();
            done();
        });

        intoStream(modelxml).pipe(toJson).pipe(toMem);
    });

    it('should match source element count', function(done) {

        var pkgCountSrc = modelxml.match(/<\/sc:Package>/g).length;

        var pkgCount = mem.filter(function(el) {
            return el.type === 'pkg';
        }).length;

        expect(pkgCount, 'package count').to.equal(pkgCountSrc);

        var clsCountSrc = modelxml.match(/<sc:Class>/g).length;

        var clsCount = mem.filter(function(el) {
            return el.type === 'cls';
        }).length;

        expect(clsCount, 'class count').to.equal(clsCountSrc);

        done();
    });
});

describe('Export', function() {

    var exported = [];

    it('should not throw', function(done) {
        if (mem.length === 0) {
            this.skip();
        }

        var model = mem.find(function(el) {
            return el.type === 'mdl' && el.name === modelName;
        });

        var toxml = toXml.createStream(model._id, {
            getPackages: function(parent) {
                return mem.filter(function(el) {
                    return el.type === 'pkg' && ('' + el.parent) === ('' + parent);
                })
            },
            getClasses: function(parent) {
                return mem.filter(function(el) {
                    return el.type === 'cls' && ('' + el.parent) === ('' + parent);
                })
            },
            getAssociations: function(parent) {
                return mem.filter(function(el) {
                    return el.type === 'asc' && ('' + el.parent) === ('' + parent);
                })
            }
        });

        var toMem = through2.obj(function(chunk, enc, cb) {
            exported.push(chunk.toString());
            //console.log(chunk.toString())
            cb();
        }, function(cb) {
            exported = exported.join('');
            cb();
            done();
        });

        intoStream.obj(model.element).pipe(toxml).pipe(toMem);
    });

    it('should equal source', function() {
        if (!exported || exported.length === 0) {
            this.skip();
        }

        expect(exported).xml.to.equal(modelxml)

    });

});

});

